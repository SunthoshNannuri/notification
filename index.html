<!DOCTYPE html>
<html>
<head>
    <title>Notification Example</title>
</head>
<body>
    <h3><center>Sunny Notification Test Project</center></h3>
    <button onclick="startNotifications()">Notify Registered User</button>

    <script>
        function showNotification() {
            try {
                new Notification("ðŸ”” Reminder: Thanks for registering!");
            } catch (error) {
                console.error("Notification error:", error);
            }
        }

        function startNotifications() {
            alert("notification function coming");

            if (!("Notification" in window)) {
                alert("This browser does not support desktop notification");
                return;
            }

            if (Notification.permission === "granted") {
                showNotification();
                setInterval(showNotification, 10000); // every 10 seconds
            } else if (Notification.permission !== "denied") {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        showNotification();
                        setInterval(showNotification, 10000); // every 10 seconds
                    } else {
                        alert("Notification permission was denied.");
                    }
                });
            } else {
                alert("Notification permission was previously denied.");
            }
        }
    </script>
</body>
</html>
